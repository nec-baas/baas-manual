========================
テナント設定 - 基本設定
========================

概要
----

テナント全体の設定を行うことができます。設定可能なのは以下の項目になります。

* テナントの説明文
* セッショントークン有効時間

  - ユーザログイン時に払い出されるセッショントークンの有効時間を指定します。(デフォルトは 24時間)

* 論理削除オブジェクト保持期間

  - オブジェクトストレージ上の論理削除状態のオブジェクトの保持期間を指定します。

* デフォルト外部ストレージ

  - ファイルストレージでデフォルト使用する外部ストレージを指定します。
    詳細は :ref:`external_storage` を参照してください。

* ユーザパスワードポリシ

  - パスワードの必要最低文字数 (デフォルトは 8 文字)
  - パスワードの最大文字数 (デフォルトは 100 文字)
  - パスワードに含める英大文字・英小文字・数字・記号の必要最低文字数 (デフォルトはすべて 0 文字)

* アカウントロックポリシ

  - アカウントをロックするまでのログイン失敗回数 (デフォルトは 5回)
  - アカウントロック時間 (デフォルトは 10分)

* ユーザ登録・更新時の本人確認メール設定

  - ユーザ登録・更新時に登録メールアドレス宛に本人確認メールを送付するかどうかを指定します。 (デフォルトは無効)
  - ユーザ登録・更新完了時に登録メールアドレス宛に本人通知メールを送付するかどうかを指定します。 (デフォルトは無効)
  - ユーザ登録・更新実行時に払い出される本人確認トークンの有効期間を指定します。
    この期間を過ぎると、本人確認メールからユーザ登録・更新が完了できません。 (デフォルトは 24時間)

* CORS 設定

  - CORS有効・無効
  - CORS許可ドメイン (デフォルトは '*')
  - Access-Control-Allow-Credentials ヘッダ有効・無効
  - CORS の詳細は、 `デベロッパーマニュアル <../../developer/index.html>`_ の
    `Cross Origin Resource Sharing <../../developer/functions/cors.html>`_ を参照してください。

論理削除オブジェクト保持期間の設定について
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

論理削除オブジェクト保持期間は、以下のようなポリシで決定してください。

* オフライン同期機能を使用しない場合は、論理削除オブジェクトを保持しておく必要はありません。
  小さい値 (0.01 など)を設定してください。
* オフライン同期機能を使用する場合は、端末に許容するオフライン期間から決定してください。

  - 例えば、全端末必ず1日1回は接続して同期する、という運用であれば、24以上(余裕をみて48など)に設定してください。
  - ここで設定した時間を超えてオフライン状態が続いた後に同期すると、サーバ側ですでに削除されたデータが端末側で消されず残り続けることになります。

* データの追加・削除を頻繁に繰り返すような状況であまり保持期間を長くし過ぎると、論理削除オブジェクトが溜まり続けるため、検索性能の低下やストレージ容量の圧迫を招きます。必要最低限の期間に設定してください。

  - 逆にデータの削除をほとんどしないようなケースでは長くしても問題ありません。
