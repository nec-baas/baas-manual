.. index::
   single: OIDC 認証ユーザ

.. _create_oidc_user:

=====================
OIDC 認証ユーザ作成
=====================

OIDC 認証を行う場合、BaaS サーバ側に対応するユーザが必要となります。

対応するユーザが存在しない場合、自動作成を行います。

具体的には、クエリパラメータ createUser に true を指定して、OpenID Connect 認証開始 API を実行します。
OP による認証成功後、BaaS サーバにユーザ (=OIDC 認証ユーザ) が作成されます。

BaaS サーバに以下のユーザ情報で登録されます。

* ユーザ名: 自動生成されたランダム文字列
* メールアドレス: 自動生成されたダミーアドレス
* オプション情報: JSON配列型の claims フィールドに、認証時に取得したユーザ情報がJSON文字列で格納される
* 外部認証連携有無: true (連携あり)
* primaryLinkedUserId: OpenID Connect認証でユーザ自動生成時のリンクユーザID。なお、ローカルユーザにアカウントリンク設定した場合は、null のままとなります。
